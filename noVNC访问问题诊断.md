# noVNC访问问题诊断

**时间**: 2026-02-06 15:54 GMT+8
**问题**: 外网无法访问 http://82.157.20.7:6080/vnc.html

---

## ✅ 服务状态

### noVNC
- **进程**: 运行中（PID 847816, 848005）
- **端口**: 6080监听正常
- **本地访问**: ✅ 正常（curl返回200 OK）

### 防火墙
- **FirewallD**: inactive（未运行）
- **iptables**: 需要检查

---

## ❌ 可能原因

1. **云服务商安全组** ⭐ 最可能
   - 腾讯云/阿里云等需要控制台开放端口
   - 6080端口未在安全组规则中

2. **其他防火墙**
   - 系统iptables规则
   - 云平台防火墙

---

## 💡 解决方案

### 方案1: 添加云安全组规则（推荐）
**在云服务商控制台操作**：
1. 登录云服务商控制台
2. 找到"安全组"设置
3. 添加入站规则：
   - 端口: 6080
   - 协议: TCP
   - 来源: 0.0.0.0/0（或您的IP）

### 方案2: 使用5901端口（已开放）
VNC默认端口5901可能已经在安全组中：
- 用VNC Viewer直接连接: `82.157.20.7:5901`
- 密码: 123456

### 方案3: SSH隧道
```bash
ssh -L 6080:localhost:6080 root@82.157.20.7
# 然后访问 http://localhost:6080/vnc.html
```

---

**主人，最可能的是云安全组没有开放6080端口！**

需要您在云服务商控制台添加安全组规则，或者直接用5901端口连接VNC。
